{"remainingRequest":"/home/artur/Documentos/bolsa/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/artur/Documentos/bolsa/frontend/src/components/ListaAlunos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/artur/Documentos/bolsa/frontend/src/components/ListaAlunos.vue","mtime":1577129627321},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiB7CiAgICAgICAgYWx1bm86IE9iamVjdAogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIC8vIExpc3RhIGRvcyBhbHVub3MgcmVjdXBlcmFkb3MgZG8gYmFuY28gZGUgZGFkb3MuCiAgICAgICAgICAgIGFsdW5vczogW10sCiAgICAgICAgfQogICAgfSwKICAgIC8vIENoYW1hcsOhIGEgZnVuw6fDo28gbGlzdGFyQWx1bm9zIHNlbXByZSBxdWUgYSBww6FnaW5hIGZvciBjYXJyZWdhZGEKICAgIGNyZWF0ZWQoKXsKICAgICAgICB0aGlzLmxpc3RhckFsdW5vcygpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIFJlY3VwZXJhIG9zIGRhZG9zIGRvIGFsdW5vIHF1ZSBzZXLDoSBlZGl0YWRvIGUgY2FycmVnYSBhIHDDoWdpbmEgZGUgY2FkYXN0cm8uCiAgICAgICAgcHJlRWRpdChpZCkgewogICAgICAgICAgICB0aGlzLiRodHRwLmdldChgL2xpc3RhZ2VtLyR7aWR9YCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2FsdGVyYUFsdW5vJywgcmVzLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWRhc3RyYXJBbHVubygpIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvKipGYXogdW0gcmVxdWlzacOnw6NvIHBhcmEgZGVsZXRhciBvIGFsdW5vIGNvbSBvIGlkCiAgICAgICAgICogc2VsZWNpb25hZG8gZSBjaGFtYSBhIGZ1bsOnw6NvIGxpc3RhckFsdW5vcyBub3ZhbWVudGUuCiAgICAgICAgKi8KICAgICAgICBkZWxldGFyKGlkKXsKICAgICAgICAgICAgdGhpcy4kaHR0cC5kZWxldGUoYC9saXN0YWdlbS8ke2lkfWApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5saXN0YXJBbHVub3MoKSkKICAgICAgICB9LAogICAgICAgIC8vIEZheiB1bWEgcmVxdWlzacOnw6NvIHBhcmEgcmVjdXBlcmFyIHRvZG9zIG9zIGFsdW5vcyBkbyBiYW5jbyBkZSBkYWRvcy4KICAgICAgICBsaXN0YXJBbHVub3MoKXsKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoJy9saXN0YWdlbScpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7IHRoaXMuYWx1bm9zID0gcmVzLmRhdGEgfSkKICAgICAgICB9LAogICAgICAgIC8vIENhcnJlZ2EgYSBww6FnaW5hIGRlIGNhZGFzdHJvCiAgICAgICAgY2FkYXN0cmFyQWx1bm8oKXsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9mb3JtdWxhcmlvJykKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["ListaAlunos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListaAlunos.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<main class=\"lista-alunos\">\n    <h2>Lista de Alunos</h2>\n        <div>\n            <img class=\"icone_cadastro\" src=\"../assets/plus_icon.png\" @click=\"cadastrarAluno()\">\n            <p>Cadastrar novo Aluno</p>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Matricula</th>\n                        <th>Nome</th>\n                        <th>Ano de Ingresso</th>\n                        <th>Ações</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr v-for=\"aluno in alunos\" :key=\"aluno.id\">\n                        <td>{{ aluno.matricula }}</td>\n                        <td>{{ aluno.pessoa.name }}</td>\n                        <td>{{ aluno.anoDeEntrada }}</td>\n                        <td>\n                            <img src=\"../assets/edit-icon.jpg\" @click=\"preEdit(aluno.id)\">\n                            <img src=\"../assets/trash_icon.png\" @click=\"deletar(aluno.id)\">\n                        </td>\n                    </tr>\n                </tbody>\n\n            </table>\n        </div>\n</main>\n</template>\n\n<script>\nexport default {\n    props: {\n        aluno: Object\n    },\n    data(){\n        return{\n            // Lista dos alunos recuperados do banco de dados.\n            alunos: [],\n        }\n    },\n    // Chamará a função listarAlunos sempre que a página for carregada\n    created(){\n        this.listarAlunos()\n    },\n    methods: {\n        // Recupera os dados do aluno que será editado e carrega a página de cadastro.\n        preEdit(id) {\n            this.$http.get(`/listagem/${id}`)\n                            .then(res => { \n                                this.$emit('alteraAluno', res.data)\n                                this.cadastrarAluno() \n                                })\n        },\n        /**Faz um requisição para deletar o aluno com o id\n         * selecionado e chama a função listarAlunos novamente.\n        */\n        deletar(id){\n            this.$http.delete(`/listagem/${id}`)\n                             .then(() => this.listarAlunos())\n        },\n        // Faz uma requisição para recuperar todos os alunos do banco de dados.\n        listarAlunos(){\n            this.$http.get('/listagem')\n                        .then(res => { this.alunos = res.data })\n        },\n        // Carrega a página de cadastro\n        cadastrarAluno(){\n            this.$router.push('/formulario')\n        }\n    }\n}\n</script>\n\n<style>\n.lista-alunos{\n    padding-left: 20px;\n}\n\n.lista-alunos div{\n    padding-left: 30px;\n\n}\n\n.lista-alunos img{\n    width: 20px;\n}\n\n.lista-alunos p{\n    display: inline-block;\n    padding-left: 15px;\n}\n\ntable th, td{\n    font-weight: normal;\n    text-align: left;\n    padding-right: 30px;\n    padding-top: 5px;\n}\n</style>"]}]}