{"remainingRequest":"/home/artur/Documentos/bolsa/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/artur/Documentos/bolsa/frontend/src/components/Formulario.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/artur/Documentos/bolsa/frontend/src/components/Formulario.vue","mtime":1577129627321},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiB7CiAgICAgICAgYWx1bm86IHt0eXBlOiBPYmplY3R9LAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvKioKICAgICAgICAgKiBGYXogdW1hIHJlcXVpc2nDp8OjbyBkbyB0aXBvIHBvc3Qgb3UgcHV0IGRlcGVuZGVuZG8gZG8gaWQKICAgICAgICAgKiBlIGNhcnJlZ2EgYSBww6FnaW5hIGRlIGxpc3RhZ2VtLgogICAgICAgICAqLwogICAgICAgIHNhbHZhcigpewogICAgICAgICAgICB0aGlzLiRlbWl0KCdsaW1wYXJDYW1wb3NWYXppb3MnKQogICAgICAgICAgICBjb25zdCBtZXRvZG8gPSB0aGlzLmFsdW5vLmlkID8gJ3B1dCcgOiAncG9zdCcKICAgICAgICAgICAgdGhpcy4kaHR0cFttZXRvZG9dKCcvZm9ybXVsYXJpbycsIHRoaXMuYWx1bm8pCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FycmVnYXJMaXN0YWdlbSgpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yICA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdhdGl2YUFsZXJ0YScsIGVycm9yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgLy9SZXRvcm5hIHBhcmEgYSBww6FnaW5hIGRlIGxpc3RhZ2VtCiAgICAgICAgY2FycmVnYXJMaXN0YWdlbSgpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xpc3RhZ2VtJykKICAgICAgICAgICAgdGhpcy5saW1wYXIoKQogICAgICAgIH0sCgogICAgICAgIC8qKiBMaW1wYSBvcyBkYWRvcyBkbyBvYmpldG8gYWx1bm8gZSAKICAgICAgICAqICAgZW1pdGUgbyBldmVudG8gcGFyYSBkZXNhdGl2YXIgbyBlcnJvLgogICAgICAgICovCiAgICAgICAgbGltcGFyKCl7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Rlc2F0aXZhQWxlcnRhJywgbnVsbCkKICAgICAgICAgICAgdGhpcy4kZW1pdCgnYWx0ZXJhQWx1bm8nLCAKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6IDAsCiAgICAgICAgICAgICAgICBtYXRyaWN1bGE6ICcnLAogICAgICAgICAgICAgICAgYW5vRGVFbnRyYWRhOiAnJywKICAgICAgICAgICAgICAgIHBlc3NvYTogewogICAgICAgICAgICAgICAgICAgIG5vbWU6ICcnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pIAogICAgICAgIH0sCgogICAgICAgIC8vIE3DqXRvZG8gcXVlIHJlc3RyaW5nZSBhIGVudHJhZGEgYXBlbmFzIHBhcmEgbsO6bWVyb3MKICAgICAgICBhcGVuYXNOdW1lcm9zKGV2ZW50KXsKICAgICAgICAgICAgY29uc3QgdGVjbGEgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LndoaWNoKQogICAgICAgICAgICBjb25zdCByZWdleCA9IC9bMC05XS8KICAgICAgICAgICAgaWYoISh0ZWNsYS5tYXRjaChyZWdleCkpKXsKICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gTcOpdG9kbyBxdWUgcmVzdHJpbmdlIGEgZW50cmFkYSBkZSBkYWRvcyBhcGVuYXMgcGFyYSBsZXRyYXMgZSBlc3Bhw6dvcwogICAgICAgIGFwZW5hc0NoYXIoZXZlbnQpeyAKICAgICAgICAgICAgdmFyIHRlY2xhID0gU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC53aGljaCkKICAgICAgICAgICAgdmFyIHJlZ2V4ID0gL1thLXpBLVrDocOgw6LDo8Opw6jDqsOtw6/Ds8O0w7XDtsO6w6fDscOBw4DDgsODw4nDiMONw4/Dk8OUw5XDlsOaw4fDkSBdLwogICAgICAgICAgICBpZighICh0ZWNsYS5tYXRjaChyZWdleCkgKSl7CiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Formulario.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Formulario.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <main>\n        <h2>Formulário para Cadastro de Novo Aluno</h2>\n        <div>\n            <img class=\"icone_casa\" src=\"../assets/home.png\" @click=\"carregarListagem()\">\n            <p>Página Inicial</p>\n\n            <form>\n                <label for=\"matricula\">Matricula:</label>\n                <input type=\"number\" class=\"matricula\" name=\"matricula\" maxlength=\"50\" @keypress=\"apenasNumeros\" v-model=\"aluno.matricula\">\n                <br>\n\n                <label for=\"nome\">Nome: </label>\n                <input class=\"nome\" type=\"text\" name=\"nome\" maxlength=\"50\" @keypress=\"apenasChar\" v-model=\"aluno.pessoa.name\">\n                <br>\n\n                <label for=\"ano\">Ano de Ingresso: </label>\n                <input type=\"number\" class=\"ano\" name=\"ano\" maxlength=\"4\" @keypress=\"apenasNumeros\" v-model=\"aluno.anoDeEntrada\">\n                <br>\n\n                <input class=\"confirmarBtn\" type=\"button\" value=\"Connfirmar\" @click=\"salvar()\">\n                <input class=\"cancelarBtn\" type=\"button\" value=\"Cancelar\" @click=\"carregarListagem()\">\n            </form>\n        </div>\n    </main>\n</template>\n\n<script>\nexport default {\n    props: {\n        aluno: {type: Object},\n    },\n    methods: {\n        /**\n         * Faz uma requisição do tipo post ou put dependendo do id\n         * e carrega a página de listagem.\n         */\n        salvar(){\n            this.$emit('limparCamposVazios')\n            const metodo = this.aluno.id ? 'put' : 'post'\n            this.$http[metodo]('/formulario', this.aluno)\n                        .then(() => {\n                            this.carregarListagem()\n                        }).catch(error  => {\n                            this.$emit('ativaAlerta', error)\n                            \n                        })\n        },\n\n        //Retorna para a página de listagem\n        carregarListagem(){\n            this.$router.push('/listagem')\n            this.limpar()\n        },\n\n        /** Limpa os dados do objeto aluno e \n        *   emite o evento para desativar o erro.\n        */\n        limpar(){\n            this.$emit('desativaAlerta', null)\n            this.$emit('alteraAluno', \n            {\n                id: 0,\n                matricula: '',\n                anoDeEntrada: '',\n                pessoa: {\n                    nome: ''\n                }\n            }) \n        },\n\n        // Método que restringe a entrada apenas para números\n        apenasNumeros(event){\n            const tecla = String.fromCharCode(event.which)\n            const regex = /[0-9]/\n            if(!(tecla.match(regex))){\n                event.preventDefault()\n            }\n        },\n        // Método que restringe a entrada de dados apenas para letras e espaços\n        apenasChar(event){ \n            var tecla = String.fromCharCode(event.which)\n            var regex = /[a-zA-ZáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ ]/\n            if(! (tecla.match(regex) )){\n                event.preventDefault()\n            }\n        }\n    }\n}\n</script>\n\n<style>\nmain{\n    padding-left: 20px;\n}\n\nmain div{\n    padding-left: 30px;\n\n}\nmain .icone_casa{\n    width: 3%;\n}\n\nmain div p{\n    display: inline-block;\n    padding-left: 20px;\n}\n\nmain div form label, main div form input{\n    display: inline-block;\n    margin-top: 15px;\n\n}\nmain div form{\n    position: relative;\n}\n.ano, .matricula, .nome{\n    position: absolute;\n    border-radius: 5px;\n    border: 2px solid #ccc;\n    left: 150px;\n}\n\n.matricula{\n    width: 120px;\n}\n.ano{\n    width: 70px;\n}\n.nome{\n    width: 300px;\n}\n.confirmarBtn{\n    width: 90px;\n    background-color: green;\n    padding: 5px;\n    color: white;\n    border: 1px solid black;\n    border-radius: 5px;\n    margin-left: 50px;\n}\n.cancelarBtn{\n    width: 90px;\n    background-color: red;\n    padding: 5px;\n    color: white;\n    border: 1px solid black;\n    border-radius: 5px;\n    margin-left: 50px;\n}\n</style>"]}]}