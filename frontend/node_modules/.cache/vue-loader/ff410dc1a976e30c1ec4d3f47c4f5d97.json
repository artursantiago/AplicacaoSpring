{"remainingRequest":"/home/artur/Documentos/bolsa/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/artur/Documentos/bolsa/frontend/src/components/ListaAlunos.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/artur/Documentos/bolsa/frontend/src/components/ListaAlunos.vue","mtime":1577129627321},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/artur/Documentos/bolsa/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxpc3RhLWFsdW5vc3sKICAgIHBhZGRpbmctbGVmdDogMjBweDsKfQoKLmxpc3RhLWFsdW5vcyBkaXZ7CiAgICBwYWRkaW5nLWxlZnQ6IDMwcHg7Cgp9CgoubGlzdGEtYWx1bm9zIGltZ3sKICAgIHdpZHRoOiAyMHB4Owp9CgoubGlzdGEtYWx1bm9zIHB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICBwYWRkaW5nLWxlZnQ6IDE1cHg7Cn0KCnRhYmxlIHRoLCB0ZHsKICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgcGFkZGluZy1yaWdodDogMzBweDsKICAgIHBhZGRpbmctdG9wOiA1cHg7Cn0K"},{"version":3,"sources":["ListaAlunos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ListaAlunos.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<main class=\"lista-alunos\">\n    <h2>Lista de Alunos</h2>\n        <div>\n            <img class=\"icone_cadastro\" src=\"../assets/plus_icon.png\" @click=\"cadastrarAluno()\">\n            <p>Cadastrar novo Aluno</p>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Matricula</th>\n                        <th>Nome</th>\n                        <th>Ano de Ingresso</th>\n                        <th>Ações</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr v-for=\"aluno in alunos\" :key=\"aluno.id\">\n                        <td>{{ aluno.matricula }}</td>\n                        <td>{{ aluno.pessoa.name }}</td>\n                        <td>{{ aluno.anoDeEntrada }}</td>\n                        <td>\n                            <img src=\"../assets/edit-icon.jpg\" @click=\"preEdit(aluno.id)\">\n                            <img src=\"../assets/trash_icon.png\" @click=\"deletar(aluno.id)\">\n                        </td>\n                    </tr>\n                </tbody>\n\n            </table>\n        </div>\n</main>\n</template>\n\n<script>\nexport default {\n    props: {\n        aluno: Object\n    },\n    data(){\n        return{\n            // Lista dos alunos recuperados do banco de dados.\n            alunos: [],\n        }\n    },\n    // Chamará a função listarAlunos sempre que a página for carregada\n    created(){\n        this.listarAlunos()\n    },\n    methods: {\n        // Recupera os dados do aluno que será editado e carrega a página de cadastro.\n        preEdit(id) {\n            this.$http.get(`/listagem/${id}`)\n                            .then(res => { \n                                this.$emit('alteraAluno', res.data)\n                                this.cadastrarAluno() \n                                })\n        },\n        /**Faz um requisição para deletar o aluno com o id\n         * selecionado e chama a função listarAlunos novamente.\n        */\n        deletar(id){\n            this.$http.delete(`/listagem/${id}`)\n                             .then(() => this.listarAlunos())\n        },\n        // Faz uma requisição para recuperar todos os alunos do banco de dados.\n        listarAlunos(){\n            this.$http.get('/listagem')\n                        .then(res => { this.alunos = res.data })\n        },\n        // Carrega a página de cadastro\n        cadastrarAluno(){\n            this.$router.push('/formulario')\n        }\n    }\n}\n</script>\n\n<style>\n.lista-alunos{\n    padding-left: 20px;\n}\n\n.lista-alunos div{\n    padding-left: 30px;\n\n}\n\n.lista-alunos img{\n    width: 20px;\n}\n\n.lista-alunos p{\n    display: inline-block;\n    padding-left: 15px;\n}\n\ntable th, td{\n    font-weight: normal;\n    text-align: left;\n    padding-right: 30px;\n    padding-top: 5px;\n}\n</style>"]}]}